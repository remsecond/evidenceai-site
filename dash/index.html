<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cipher ‚Äî Evidence Intelligence</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --ink: #0a0f1e;
  --ink-mid: #1e2640;
  --paper: #fafbfc;
  --white: #ffffff;
  --accent: #1a56db;
  --accent-mid: #3b82f6;
  --border: #e2e8f0;
  --red: #dc2626;
  --font-display: 'Playfair Display', Georgia, serif;
  --font-body: 'DM Sans', system-ui, sans-serif;
}

html, body {
  height: 100%;
  background: var(--paper);
  color: var(--ink);
  font-family: var(--font-body);
  -webkit-font-smoothing: antialiased;
}

/* Auth gate */
#auth-gate {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px;
  position: relative;
}

#auth-gate .mesh {
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 80% 60% at 50% 30%, rgba(26,86,219,0.06) 0%, transparent 50%);
  pointer-events: none;
}

.auth-box {
  position: relative;
  z-index: 1;
  background: var(--white);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 48px 40px;
  max-width: 400px;
  width: 100%;
  box-shadow: 0 8px 32px rgba(0,0,0,0.06);
}

.auth-dot {
  width: 10px; height: 10px;
  border-radius: 50%;
  background: var(--accent);
  margin: 0 auto 20px;
  box-shadow: 0 0 0 4px rgba(26,86,219,0.12);
}

.auth-title {
  font-family: var(--font-display);
  font-size: 24px;
  font-weight: 500;
  margin-bottom: 8px;
  letter-spacing: -0.02em;
}

.auth-sub {
  font-size: 14px;
  color: #94a3b8;
  margin-bottom: 32px;
}

.auth-input {
  width: 100%;
  height: 48px;
  background: var(--paper);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 0 16px;
  font-family: var(--font-body);
  font-size: 15px;
  color: var(--ink);
  outline: none;
  transition: border-color 0.15s;
  margin-bottom: 16px;
}
.auth-input:focus { border-color: var(--accent-mid); }
.auth-input.error { border-color: var(--red); }

.auth-error {
  font-size: 13px;
  color: var(--red);
  margin-bottom: 16px;
  display: none;
}

.auth-btn {
  width: 100%;
  height: 48px;
  background: var(--ink);
  color: white;
  border: none;
  border-radius: 10px;
  font-family: var(--font-body);
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.15s;
}
.auth-btn:hover { background: var(--ink-mid); }

.auth-back {
  display: inline-block;
  margin-top: 20px;
  font-size: 13px;
  color: #94a3b8;
  text-decoration: none;
}
.auth-back:hover { color: var(--ink); }

/* Dashboard content (hidden until auth) */
#dash-content {
  display: none;
}

/* Simple dashboard layout */
.dash-nav {
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 100;
  height: 56px;
  background: var(--ink);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
}

.dash-nav-logo {
  font-family: var(--font-display);
  font-size: 18px;
  font-weight: 600;
  color: white;
}

.dash-nav-links {
  display: flex;
  gap: 24px;
}
.dash-nav-link {
  font-size: 13px;
  color: rgba(255,255,255,0.5);
  text-decoration: none;
  cursor: pointer;
}
.dash-nav-link:hover { color: white; }
.dash-nav-link.active { color: white; border-bottom: 2px solid var(--accent-mid); padding-bottom: 4px; }

.dash-logout {
  font-size: 13px;
  color: rgba(255,255,255,0.4);
  text-decoration: none;
  cursor: pointer;
}
.dash-logout:hover { color: rgba(255,255,255,0.7); }

.dash-body {
  padding: 80px 40px 40px;
  max-width: 1200px;
  margin: 0 auto;
}

.dash-welcome {
  margin-bottom: 40px;
}
.dash-welcome h1 {
  font-family: var(--font-display);
  font-size: 32px;
  font-weight: 500;
  letter-spacing: -0.02em;
  margin-bottom: 8px;
}
.dash-welcome p {
  font-size: 15px;
  color: #94a3b8;
}

.dash-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  margin-bottom: 40px;
}

.dash-card {
  background: var(--white);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 24px;
  transition: box-shadow 0.2s;
}
.dash-card:hover {
  box-shadow: 0 4px 16px rgba(0,0,0,0.06);
}

.dash-card-icon {
  font-size: 28px;
  margin-bottom: 12px;
}

.dash-card-title {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 6px;
}

.dash-card-desc {
  font-size: 14px;
  color: #64748b;
  line-height: 1.5;
}

.dash-card-stat {
  font-family: var(--font-display);
  font-size: 36px;
  font-weight: 600;
  letter-spacing: -0.02em;
  margin-bottom: 4px;
}

.dash-card-label {
  font-size: 12px;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-weight: 500;
}

.dash-section-title {
  font-family: var(--font-display);
  font-size: 22px;
  font-weight: 500;
  margin-bottom: 20px;
  letter-spacing: -0.01em;
}

.dash-links {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 16px;
}

.dash-link-card {
  background: var(--white);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 20px 24px;
  display: flex;
  align-items: center;
  gap: 16px;
  text-decoration: none;
  color: var(--ink);
  transition: all 0.15s;
}
.dash-link-card:hover {
  border-color: var(--accent-mid);
  box-shadow: 0 4px 16px rgba(26,86,219,0.08);
  transform: translateY(-1px);
}

.dash-link-icon {
  width: 44px; height: 44px;
  border-radius: 10px;
  background: var(--paper);
  display: flex; align-items: center; justify-content: center;
  font-size: 20px;
  flex-shrink: 0;
}

.dash-link-title {
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 2px;
}

.dash-link-desc {
  font-size: 13px;
  color: #94a3b8;
}
</style>
</head>
<body>

<!-- AUTH GATE -->
<div id="auth-gate">
  <div class="mesh"></div>
  <div class="auth-box">
    <div class="auth-dot"></div>
    <h2 class="auth-title">Cipher ‚Äî Sign In</h2>
    <p class="auth-sub">Enter your access code to continue.</p>
    <input type="password" id="pw-input" class="auth-input" placeholder="Access code" autofocus>
    <p class="auth-error" id="pw-error">Incorrect access code. Try again.</p>
    <button class="auth-btn" id="pw-btn">Sign In</button>
    <a href="/" class="auth-back">‚Üê Back to EvidenceAI</a>
  </div>
</div>

<!-- DASHBOARD (hidden until auth) -->
<div id="dash-content">
  <nav class="dash-nav">
    <span class="dash-nav-logo">EvidenceAI</span>
    <div class="dash-nav-links">
      <a class="dash-nav-link active">Dashboard</a>
      <a class="dash-nav-link" href="/ia-hub.html">IA Hub</a>
      <a class="dash-nav-link" href="/dark.html">Dark Mode</a>
    </div>
    <a class="dash-logout" id="logout-btn">Sign Out</a>
  </nav>

  <div class="dash-body">
    <div class="dash-welcome">
      <h1>Welcome back.</h1>
      <p>EvidenceAI internal dashboard ‚Äî private beta.</p>
    </div>

    <div class="dash-cards">
      <div class="dash-card">
        <div class="dash-card-icon">üìä</div>
        <div class="dash-card-stat">45,495</div>
        <div class="dash-card-label">Documents Ingested</div>
      </div>
      <div class="dash-card">
        <div class="dash-card-icon">üîç</div>
        <div class="dash-card-stat">1,345</div>
        <div class="dash-card-label">Chunks Indexed</div>
      </div>
      <div class="dash-card">
        <div class="dash-card-icon">‚öñÔ∏è</div>
        <div class="dash-card-stat">38%</div>
        <div class="dash-card-label">Case Readiness</div>
      </div>
      <div class="dash-card">
        <div class="dash-card-icon">üõ°Ô∏è</div>
        <div class="dash-card-stat">5</div>
        <div class="dash-card-label">Active Claims</div>
      </div>
    </div>

    <h2 class="dash-section-title">Quick Access</h2>
    <div class="dash-links">
      <a class="dash-link-card" href="/ia-hub.html">
        <div class="dash-link-icon">üèóÔ∏è</div>
        <div>
          <div class="dash-link-title">Information Architecture</div>
          <div class="dash-link-desc">System topology, data flows, component map</div>
        </div>
      </a>
      <a class="dash-link-card" href="/dark.html">
        <div class="dash-link-icon">üåô</div>
        <div>
          <div class="dash-link-title">Dark Marketing Page</div>
          <div class="dash-link-desc">Alternate brand presentation</div>
        </div>
      </a>
      <a class="dash-link-card" href="/home/">
        <div class="dash-link-icon">üåê</div>
        <div>
          <div class="dash-link-title">Marketing Site</div>
          <div class="dash-link-desc">Public-facing landing page</div>
        </div>
      </a>
      <a class="dash-link-card" href="https://github.com/remsecond/evidenceai-site">
        <div class="dash-link-icon">üì¶</div>
        <div>
          <div class="dash-link-title">GitHub Repository</div>
          <div class="dash-link-desc">Source code and deployment</div>
        </div>
      </a>
    </div>
  </div>
</div>

<script>
// Simple password gate using SHA-256 hash (not military-grade, but keeps casual visitors out)
// Default password: "evidenceai2026"
const HASH = '2916a4c061daa881b0c0d6d561a4971ddd6c78f0a717094a20965761f74a1a2e';
const SESSION_KEY = 'eai_auth';

async function sha256(str) {
  const buf = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(str));
  return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2, '0')).join('');
}

function showDash() {
  document.getElementById('auth-gate').style.display = 'none';
  document.getElementById('dash-content').style.display = 'block';
}

// Check session
if (sessionStorage.getItem(SESSION_KEY) === 'true') {
  showDash();
}

document.getElementById('pw-btn').addEventListener('click', tryAuth);
document.getElementById('pw-input').addEventListener('keydown', e => {
  if (e.key === 'Enter') tryAuth();
});

async function tryAuth() {
  const input = document.getElementById('pw-input');
  const error = document.getElementById('pw-error');
  const hash = await sha256(input.value);

  if (hash === HASH) {
    sessionStorage.setItem(SESSION_KEY, 'true');
    showDash();
  } else {
    input.classList.add('error');
    error.style.display = 'block';
    input.value = '';
    input.focus();
  }
}

document.getElementById('logout-btn').addEventListener('click', () => {
  sessionStorage.removeItem(SESSION_KEY);
  location.reload();
});
</script>
</body>
</html>
